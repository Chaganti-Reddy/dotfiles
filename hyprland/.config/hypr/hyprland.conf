
# #######################################################################################
# AUTOGENERATED HYPRLAND CONFIG.
# EDIT THIS CONFIG ACCORDING TO THE WIKI INSTRUCTIONS.
# #######################################################################################

# autogenerated = 1 # remove this line to remove the warning

# This is an example Hyprland config file.
# Refer to the wiki for more information.
# https://wiki.hypr.land/Configuring/

# Please note not all available settings / options are set here.
# For a full list, see the wiki

# You can split this configuration into multiple files
# Create your files separately and then link them to this file like this:
# source = ~/.config/hypr/myColors.conf


################
### MONITORS ###
################

# See https://wiki.hypr.land/Configuring/Monitors/
monitor=,1920x1080,auto,1


###################
### MY PROGRAMS ###
###################

# See https://wiki.hypr.land/Configuring/Keywords/

# Set programs that you use
$terminal = foot
$fileManager = dolphin
$menu = wofi --show drun
$browser = firefox
$altBrowser1 = chromium
$altBrowser2 = qutebrowser


#################
### AUTOSTART ###
#################

# Autostart necessary processes (like notifications daemons, status bars, etc.)
# Or execute your favorite apps at launch like this:

exec-once = ~/.config/hypr/start.sh &
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP &
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP &
exec-once = /usr/lib/polkit-kde-authentication-agent-1 &
exec-once = /usr/bin/gnome-keyring-daemon --start --components=secrets &
exec-once = wl-paste --type text --watch cliphist store # Stores only text data
exec-once = wl-paste --type image --watch cliphist store # Stores only image data
exec-once = wl-clip-persist --clipboard regular
exec-once = udiskie --no-automount --smart-tray &
exec-once = mpd &
exec-once = pypr &
exec-once = dunst &
exec-once = hypridle &
exec-once = waybar &
exec-once = foot --server &
# exec-once = clipse -listen &
# exec-once = /usr/bin/emacs --daemon &
# exec-once = [workspace name:obsidian silent] obsidian # Note taking.
exec-once = ~/.config/scripts/check-battery.sh &
exec-once = sunsetr

#############################
### ENVIRONMENT VARIABLES ###
#############################

# See https://wiki.hypr.land/Configuring/Environment-variables/

env = XCURSOR_SIZE,24
env = HYPRCURSOR_SIZE,24
env = XCURSOR_THEME, WhiteSur-cursors
# env = HYPRCURSOR_THEME, rose-pine-hyprcursor
# env = LIBVA_DRIVER_NAME,nvidia
# env = GBM_BACKEND,nvidia-drm
# env = __GLX_VENDOR_LIBRARY_NAME,nvidia
env = XDG_SESSION_TYPE,wayland
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_DESKTOP,Hyprland
env = GDK_BACKEND,wayland,x11,* # GTK: Use wayland if available. If not: try x11, then any other GDK backend
env = SDL_VIDEODRIVER, wayland # Run SDL2 applications using wayland 
env = CLUTTER_BACKEND, wayland # Clutter packages already has wayland enabled, this variable will force clutter applications to use wayland
env = QT_AUTO_SCREEN_SCALE_FACTOR,1
env = QT_QPA_PLATFORM,wayland;xcb # Tells Qt applications to use wayland if not fallback to X11
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1 # Disables window decorations for Qt applications 
env = QT_QPA_PLATFORMTHEME, kde # Tells Qt applications to pick theme from kde 
env = GDK_SCALE,1 
env = ELECTRON_OZONE_PLATFORM_HINT, auto # set Electron Ozone Platform Hint to auto 


###################
### PERMISSIONS ###
###################

# See https://wiki.hypr.land/Configuring/Permissions/
# Please note permission changes here require a Hyprland restart and are not applied on-the-fly
# for security reasons

ecosystem {
  enforce_permissions = 0
  no_donation_nag = true 
  no_update_news = true
}

# permission = /usr/(bin|local/bin)/grim, screencopy, allow
# permission = /usr/(lib|libexec|lib64)/xdg-desktop-portal-hyprland, screencopy, allow
# permission = /usr/(bin|local/bin)/hyprpm, plugin, allow


#####################
### LOOK AND FEEL ###
#####################

# Refer to https://wiki.hypr.land/Configuring/Variables/

# https://wiki.hypr.land/Configuring/Variables/#general
general {
    gaps_in = 2
    gaps_out = 2

    border_size = 2

    # https://wiki.hypr.land/Configuring/Variables/#variable-types for info about colors
    col.active_border = rgba(5E7999ff) rgba(9DA2A4ff) 45deg
    col.inactive_border = rgba(6E8AA6ff)

    # Set to true enable resizing windows by clicking and dragging on borders and gaps
    resize_on_border = true

    # Please see https://wiki.hypr.land/Configuring/Tearing/ before you turn this on
    allow_tearing = false

    layout = dwindle
}

# https://wiki.hypr.land/Configuring/Variables/#decoration
decoration {
    rounding = 5
    rounding_power = 2

    # Change transparency of focused and unfocused windows
    active_opacity = 1.0
    inactive_opacity = 0.95

    shadow {
        enabled = true
        range = 5
        render_power = 3
        color = rgba(1a1a1aee)
    }

    # https://wiki.hypr.land/Configuring/Variables/#blur
    blur {
        enabled = true
        xray = true 
        special = false
        new_optimizations = true
        size = 8
        passes = 1
        vibrancy = 0.1696
        contrast = 1
        input_methods_ignorealpha = 0.6
    }
}

# https://wiki.hypr.land/Configuring/Variables/#animations
animations {
    enabled = yes, please :)

    # Default curves, see https://wiki.hypr.land/Configuring/Animations/#curves
    #        NAME,           X0,   Y0,   X1,   Y1
    bezier = easeOutQuint,   0.23, 1,    0.32, 1
    bezier = easeInOutCubic, 0.65, 0.05, 0.36, 1
    bezier = linear,         0,    0,    1,    1
    bezier = almostLinear,   0.5,  0.5,  0.75, 1
    bezier = quick,          0.15, 0,    0.1,  1

    # Default animations, see https://wiki.hypr.land/Configuring/Animations/
    #           NAME,          ONOFF, SPEED, CURVE,        [STYLE]
    animation = global,        1,     10,    default
    animation = border,        1,     5.39,  easeOutQuint
    animation = windows,       1,     4.79,  easeOutQuint
    animation = windowsIn,     1,     4.1,   easeOutQuint, popin 87%
    animation = windowsOut,    1,     1.49,  linear,       popin 87%
    animation = fadeIn,        1,     1.73,  almostLinear
    animation = fadeOut,       1,     1.46,  almostLinear
    animation = fade,          1,     3.03,  quick
    animation = layers,        1,     3.81,  easeOutQuint
    animation = layersIn,      1,     4,     easeOutQuint, fade
    animation = layersOut,     1,     1.5,   linear,       fade
    animation = fadeLayersIn,  1,     1.79,  almostLinear
    animation = fadeLayersOut, 1,     1.39,  almostLinear
    animation = workspaces,    1,     1.94,  almostLinear, fade
    animation = workspacesIn,  1,     1.21,  almostLinear, fade
    animation = workspacesOut, 1,     1.94,  almostLinear, fade
    animation = zoomFactor,    1,     7,     quick
}

# Ref https://wiki.hypr.land/Configuring/Workspace-Rules/
# "Smart gaps" / "No gaps when only"
# uncomment all if you wish to use that.
# workspace = w[tv1], gapsout:0, gapsin:0
# workspace = f[1], gapsout:0, gapsin:0
# windowrule {
#     name = no-gaps-wtv1
#     match:float = false
#     match:workspace = w[tv1]
#
#     border_size = 0
#     rounding = 0
# }
#
# windowrule {
#     name = no-gaps-f1
#     match:float = false
#     match:workspace = f[1]
#
#     border_size = 0
#     rounding = 0
# }

# See https://wiki.hypr.land/Configuring/Dwindle-Layout/ for more
dwindle {
    pseudotile = true # Master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = true # You probably want this
}

# See https://wiki.hypr.land/Configuring/Master-Layout/ for more
master {
    new_status = master
}

# https://wiki.hypr.land/Configuring/Variables/#misc
misc {
    enable_swallow = true
    force_default_wallpaper = -1 # Set to 0 or 1 to disable the anime mascot wallpapers
    disable_hyprland_logo = false # If true disables the random hyprland logo / anime girl background. :(
swallow_regex = ^(foot|footclient|alacritty|kitty)$
    mouse_move_enables_dpms = true
    key_press_enables_dpms = true
}


#############
### INPUT ###
#############

# https://wiki.hypr.land/Configuring/Variables/#input
input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =
    follow_mouse = 1
    touchpad {
        natural_scroll = yes
        disable_while_typing = true 
        tap-to-click = true            # Recommended for laptops
        clickfinger_behavior = 1
        # scroll_factor = 0.5
    }
    sensitivity = 0.2
    numlock_by_default = true
}

# https://wiki.hypr.land/Configuring/Gestures/
gestures {
    # --- 3 FINGERS (Workspaces & Fullscreen) ---
    gesture = 3, horizontal, workspace
    gesture = 3, up, dispatcher, fullscreen
    gesture = 3, down, dispatcher, fullscreen

    # --- 4 FINGERS (Cycle & Smart Floating) ---
    gesture = 4, left, dispatcher, cyclenext
    gesture = 4, right, dispatcher, cyclenext, prev

    # 1. If Floating? -> Just toggle (Restores original tiled size).
    # 2. If Tiled?    -> Toggle + Resize to 60% + Center.
    gesture = 4, up, dispatcher, exec, hyprctl activewindow -j | grep -q '"floating": true' && hyprctl dispatch togglefloating || (hyprctl dispatch togglefloating && hyprctl dispatch resizeactive exact 60% 60% && hyprctl dispatch centerwindow)
    gesture = 4, down, dispatcher, exec, hyprctl activewindow -j | grep -q '"floating": true' && hyprctl dispatch togglefloating || (hyprctl dispatch togglefloating && hyprctl dispatch resizeactive exact 60% 60% && hyprctl dispatch centerwindow)

    # --- 2 FINGERS ---
    gesture = 2, pinch, resize
}

# Example per-device config
# See https://wiki.hypr.land/Configuring/Keywords/#per-device-input-configs for more
device {
    name = razer-razer-deathadder-essential
    sensitivity = -0.8
}

device {
    name = razer-razer-deathadder-essential-1
    sensitivity = -0.8
}

binds {
  scroll_event_delay = 0
}

xwayland {
  force_zero_scaling = true
}


###################
### KEYBINDINGS ###
###################

# See https://wiki.hypr.land/Configuring/Keywords/
$mainMod = SUPER # Sets "Windows" key as main modifier

# Example binds, see https://wiki.hypr.land/Configuring/Binds/ for more
bind = $mainMod, 		RETURN, 	exec, 	$terminal		
bind = $mainMod, 		Q, 		killactive,
bind = $mainMod SHIFT, 	R, 		exec,		hyprctl reload
bind = $mainMod CTRL SHIFT, 	Q, 		    exit,
bind = $mainMod SHIFT, 	N, 		exec, 		$fileManager
bind = $mainMod, 		W, 		exec, 		$browser
bind = $mainMod SHIFT, 	W, 		exec, 		$altBrowser1
bind = $mainMod ALT, 	W, 		exec, 		$altBrowser2
bind = $mainMod SHIFT, 	F, 		togglefloating,
bind = $mainMod, 		F, 		fullscreen,
bind = $mainMod, 		D, 		exec, 		$menu
bind = $mainMod SHIFT, 	J, 		pseudo, 			
bind = $mainMod, 		J, 		togglesplit, 		
bind = $mainMod, 		L, 		exec,		hyprlock &		
bind = $mainMod ALT, 	A, 		exec, 		code &
bind = $mainMod,       	A, 		exec, 		foot -e 'nvim'
bind = $mainMod, 		E, 		exec, 		emacsclient -c -a 'emacs'
bind = $mainMod, 		B, 		exec, 		pkill waybar || waybar &
bind = $mainMod, 		P, 		pin

# Rofi Scripts
# bind = $mainMod SHIFT, 		P, 		exec, 		~/.config/rofi/powermenu/type-4/powermenu.sh &
# bind = $mainMod SHIFT, 		P, 		exec, 		wlogout &
bind = $mainMod ALT, 		F, 		exec, 		rofi -show find -modi find:~/.config/scripts/rofifinder &
bind = $mainMod SHIFT, 		S, 		exec, 		~/.config/rofi/applets/bin/screenshot.sh &
bind = ALT SHIFT, 		    F, 		exec, 		~/.config/scripts/rofifm &
bind = $mainMod, 		    PERIOD, exec, 		~/.config/rofi/applets/bin/emoji.sh &
bind = $mainMod ALT, 		P, 		exec, 		~/.config/scripts/rofi-pass-wayland &
bind = ALT, TAB, 		    exec, 		~/.config/rofi/launchers/type-7/windows.sh &
bind = $mainMod ALT, 		T, 		exec, 		~/.config/scripts/rofi_todo &
bind = $mainMod SHIFT, 		A, 		exec, 		~/.config/scripts/script &
bind = $mainMod, 		    V,		exec, 		cliphist list | rofi -dmenu -display-columns 2 | cliphist decode | wl-copy

# Move focus with mainMod + arrow keys
bind = $mainMod, 	    	left, 		movefocus, 		l
bind = $mainMod, 	    	right, 		movefocus, 		r
bind = $mainMod,	    	up, 		movefocus, 		u
bind = $mainMod, 	    	down, 		movefocus, 		d

bind = $mainMod+CTRL, 		up, 		movewindow, 		u
bind = $mainMod+CTRL, 		down, 		movewindow, 		d
bind = $mainMod+CTRL, 		right, 		movewindow, 		r
bind = $mainMod+CTRL, 		left, 		movewindow, 		l

bind = $mainMod+SHIFT, 		right, 		resizeactive, 		15 0
bind = $mainMod+SHIFT, 		left, 		resizeactive, 		-15 0
bind = $mainMod+SHIFT, 		up, 		resizeactive, 		0 -15
bind = $mainMod+SHIFT, 		down, 		resizeactive, 		0 15

# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 		1, 		workspace, 		1
bind = $mainMod, 		2, 		workspace, 		2
bind = $mainMod, 		3, 		workspace, 		3
bind = $mainMod, 		4, 		workspace, 		4
bind = $mainMod, 		5, 		workspace, 		5
bind = $mainMod, 		6, 		workspace, 		6
bind = $mainMod, 		7, 		workspace, 		7
bind = $mainMod, 		8, 		workspace, 		8
bind = $mainMod, 		9, 		workspace, 		9
# bind = $mainMod, 		0, 		workspace, 		10

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 		1, 		movetoworkspace, 		1
bind = $mainMod SHIFT, 		2, 		movetoworkspace, 		2
bind = $mainMod SHIFT, 		3, 		movetoworkspace, 		3
bind = $mainMod SHIFT, 		4, 		movetoworkspace, 		4
bind = $mainMod SHIFT, 		5, 		movetoworkspace, 		5
bind = $mainMod SHIFT, 		6, 		movetoworkspace, 		6
bind = $mainMod SHIFT, 		7, 		movetoworkspace, 		7
bind = $mainMod SHIFT, 		8, 		movetoworkspace, 		8
bind = $mainMod SHIFT, 		9, 		movetoworkspace, 		9
# bind = $mainMod SHIFT, 		0, 		movetoworkspace, 		10

# Example special workspace (scratchpad)
# bind = $mainMod, 		S, 		togglespecialworkspace, 		magic
# bind = $mainMod SHIFT, 	S, 		movetoworkspace, 		special:magic

# Scroll through existing workspaces with mainMod + scroll
bind = $mainMod, 		mouse_down, 		workspace, 		e+1
bind = $mainMod, 		mouse_up, 		workspace, 		e-1

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, 		mouse:272, 		movewindow
bindm = $mainMod, 		mouse:273, 		resizewindow

bind = $mainMod CTRL,   mouse_down,     exec,       hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '.float * 1.1')
bind = $mainMod CTRL,   mouse_up,       exec,       hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '(.float * 0.9) | if . < 1 then 1 else . end')

binde = $mainMod,       equal,          exec,       hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '.float * 1.1')
binde = $mainMod,       minus,          exec,       hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '(.float * 0.9) | if . < 1 then 1 else . end')
binde = $mainMod,       KP_ADD,         exec,       hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '.float * 1.1')
binde = $mainMod,       KP_SUBTRACT,    exec,       hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '(.float * 0.9) | if . < 1 then 1 else . end')

bind = $mainMod SHIFT,  minus,          exec,       hyprctl -q keyword cursor:zoom_factor 1
bind = $mainMod SHIFT,  KP_SUBTRACT,    exec,       hyprctl -q keyword cursor:zoom_factor 1
bind = $mainMod,        0,              exec,       hyprctl -q keyword cursor:zoom_factor 1

# Laptop multimedia keys for volume and LCD brightness
bindel = ,XF86AudioRaiseVolume, 	exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 3%+
bindel = ,XF86AudioLowerVolume, 	exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 3%-
bindel = ,XF86AudioMute, 		    exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = ,XF86AudioMicMute, 		exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindel = ,XF86MonBrightnessUp, 		exec, brightnessctl set 5%+
bindel = ,XF86MonBrightnessDown, 	exec, brightnessctl set 5%-
bindel = $mainMod ALT,F9 , 		    exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

# Music
bindl = , 		XF86AudioPlay, 		exec, 		playerctl play-pause
bindl = , 		XF86AudioPrev, 		exec, 		playerctl previous
bindl = , 		XF86AudioNext, 		exec, 		playerctl next

# mpc (mainmod + function keys )
bind = $mainMod ALT, 		1, 		exec, 		mpc toggle
bind = $mainMod ALT, 		3, 		exec, 		mpc next
bind = $mainMod ALT, 		2, 		exec, 		mpc prev 
bind = $mainMod SHIFT ALT, 	1, 		exec, 		mpc stop 

# will switch to a submap called scripts
bind = $mainMod, 		O, 		submap, 		scripts

# will start a submap called "scripts"
submap = scripts

# sets repeatable binds for resizing the active window
bind = , 		L, 		exec, 		~/.config/scripts/rofi_learn &
bind = , 		L,		submap,		reset
bind = , 		T, 		exec, 		~/.config/scripts/rofi_todo &
bind = , 		T,		submap,		reset
bind = , 		M, 		exec, 		~/.config/scripts/rofi_beats &
bind = , 		M,		submap,		reset
bind = , 		P, 		exec, 		~/.config/scripts/rofi_pdf &
bind = , 		P,		submap,		reset

# use reset to go back to the global submap
bind = , 		escape, 		submap, 		reset

# will reset the submap, which will return to the global submap
submap = reset

# Trigger the powermenu submap with Mod+Shift+P
bind = $mainMod SHIFT, P, submap, powermenu

# Define the powermenu submap
submap = powermenu

# Lock Screen (no confirmation needed)
bind = , L, exec, hyprlock &
bind = , L, submap, reset

# Logout with confirmation
bind = , E, exec, bash -c '[ "$(echo -e "No\nYes" | wofi --dmenu --prompt "Do you really want to log out?")" = "Yes" ] && loginctl terminate-user $USER' &
bind = , E, submap, reset

# Shutdown with confirmation + uptime logging
bind = , S, exec, bash -c '[ "$(echo -e "No\nYes" | wofi --dmenu --prompt "Do you really want to shut down?")" = "Yes" ] && echo "$(uptime -p) from $(uptime -s) till $(date "+%Y-%m-%d %H:%M:%S")...  Shutting Down" >> ~/dotfiles/Uptime.log && systemctl poweroff' &
bind = , S, submap, reset

# Reboot with confirmation + uptime logging
bind = , R, exec, bash -c '[ "$(echo -e "No\nYes" | wofi --dmenu --prompt "Do you really want to reboot?")" = "Yes" ] && echo "$(uptime -p) from $(uptime -s) till $(date "+%Y-%m-%d %H:%M:%S")...  Rebooting" >> ~/dotfiles/Uptime.log && systemctl reboot' &
bind = , R, submap, reset

# Escape to exit powermenu
bind = , escape, submap, reset

# Reset submap
submap = reset
# PYPRLAND
bind = SUPER + SHIFT, 		M, 		exec, 		pypr toggle music && hyprctl dispatch bringactivetotop
bind = SUPER, 			    C, 		exec, 		pypr toggle calc && hyprctl dispatch bringactivetotop
bind = SUPER+ALT, 		    N, 		exec, 		pypr toggle news && hyprctl dispatch bringactivetotop
bind = , 			        F12, 	exec, 		pypr toggle term && hyprctl dispatch bringactivetotop
bind = , 			        F11, 	exec, 		pypr toggle chess && hyprctl dispatch bringactivetotop
# bind = , 			        F10, 	exec, 		pypr toggle whatsapp && hyprctl dispatch bringactivetotop
bind = SUPER, 			    N, 		exec, 		pypr toggle manager && hyprctl dispatch bringactivetotop
bindel = ,			        XF86Calculator, exec, 		pypr toggle calc && hyprctl dispatch bringactivetotop

##############################
### WINDOWS AND WORKSPACES ###
##############################

# Global: Ignore maximize requests
windowrule {
    name = global-ignore-maximize
    match:class = .*
    suppress_event = maximize
}

# Fix XWayland dragging issues
windowrule {
    name = xwayland-drag-fix
    match:class = ^$
    match:title = ^$
    match:xwayland = true
    match:float = true
    match:fullscreen = false
    match:pin = false
    no_focus = on
}

# Browser File Pickers & Dialogs (Firefox, Chromium, etc.)
windowrule {
    name = browser-file-pickers
    match:class = ^(firefox|chromium)$
    match:title = ^(Open File|Save File|Open Folder|Save As|Verify Session — Mozilla Firefox)$
    float = on
    size = 900 550
    center = on
}

# Picture-in-Picture
windowrule {
    name = pip-windows
    match:title = ^(Picture-in-Picture|Picture in picture)$
    float = on
    size = 765 520
    move = 14 13
}

# Portals (GTK/KDE File Pickers)
windowrule {
    name = portal-dialogs
    match:class = ^(xdg-desktop-portal-gtk|xdg-desktop-portal-kde)$
    float = on
    size = 1100 700
    center = on
}

# Standard Utility Apps (Floating 1100x700)
windowrule {
    name = standard-utilities
    match:class = ^(org.telegram.desktop|org.pulseaudio.pavucontrol|org.gnome.DiskUtility|org.qutebrowser.qutebrowser|viewnior)$
    float = on
    size = 1100 700
    center = on
}

# Browser Meetings (Brave/Zen)
windowrule {
    name = meeting-windows
    match:class = ^(brave-browser|zen)$
    match:title = ^(Meet – .*)$
    float = on
    size = 577 374
    move = 1340 9
}

# WhatsApp Web PWA
windowrule {
    name = whatsapp-pwa
    match:class = ^chrome-(.*)
    match:title = ^(WhatsApp Web)$
    float = on
    size = 90% 85%
    center = on
}

# VS Code Dialogs
windowrule {
    name = vscode-dialogs
    match:class = ^(code)$
    match:title = ^(Open Folder|Add Folder to Workspace)$
    float = on
    size = 900 550
    center = on
}

# System Settings & Tools
windowrule {
    name = system-tools
    match:class = ^(nwg-look|blueman-manager)$
    float = on
    size = 800 500
    center = on
}

# Timeshift
windowrule {
    name = timeshift-ui
    match:class = ^(timeshift-gtk)$
    match:title = ^(Delete Snapshots|Create Snapshot)$
    float = on
    center = on
}

# Cava Visualizer
windowrule {
    name = cava-v0.53
    match:title = ^cava-f$
    float = on
    size = 478 220
    move = 1415 815
}

# Pyprland Scratchpads
windowrule {
    name = pyprland-scratchpads
    # This matches all the classes defined in your pyprland.toml
    match:class = ^(Music|kitty-yazi|qalculate-gtk|news|foot-dropterm|chess-nativefier-b30d50|chrome-hnpfjngllnobngcgfapefoaidbinmjnm-Default)$
    
    float = on
    size = 1100 700
    center = on
}

# Thunar Rename
windowrule {
    name = thunar-rename
    match:class = (?i)thunar
    match:title = ^Rename ".*"$
    float = on
}

# KDE File Type Editor
windowrule {
    name = kde-file-editor
    match:class = ^(org.kde.keditfiletype)$
    match:title = ^Edit File Type .*$
    float = on
}

# Library and Misc Popups
windowrule {
    name = misc-popups
    match:title = ^(Library|Choose download path|Network Connections|File Operation Progress)$
    float = on
    size = 1100 700
}
